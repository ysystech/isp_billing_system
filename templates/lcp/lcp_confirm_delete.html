{% extends "web/app/app_base.html" %}
{% load static %}

{% block app %}
<section class="app-card">
  <div class="max-w-2xl mx-auto">
    <h1 class="text-2xl font-bold mb-6">Delete LCP</h1>
    
    <div class="alert alert-warning mb-6">
      <i class="fa fa-exclamation-triangle mr-2"></i>
      <span>Are you sure you want to delete this LCP? This action cannot be undone.</span>
    </div>

    <div class="card bg-base-200 mb-6">
      <div class="card-body">
        <h2 class="card-title">{{ lcp.name }}</h2>
        <dl class="space-y-2">
          <div>
            <dt class="font-semibold">Code:</dt>
            <dd>{{ lcp.code }}</dd>
          </div>
          <div>
            <dt class="font-semibold">Location:</dt>
            <dd>{{ lcp.location }}</dd>
          </div>
          <div>
            <dt class="font-semibold">Barangay:</dt>
            <dd>{{ lcp.barangay.name }}</dd>
          </div>
          <div>
            <dt class="font-semibold">Splitters:</dt>
            <dd>{{ lcp.splitters.count }}</dd>
          </div>
        </dl>
      </div>
    </div>

    {% if lcp.splitters.exists %}
    <div class="alert alert-error mb-6">
      <i class="fa fa-times-circle mr-2"></i>
      <span>Warning: This LCP has {{ lcp.splitters.count }} splitter(s). Deleting this LCP will also delete all associated splitters and NAPs.</span>
    </div>
    {% endif %}

    <form method="post">
      {% csrf_token %}
      <div class="flex gap-4">
        <button type="submit" class="btn btn-error">
          <i class="fa fa-trash mr-2"></i> Delete LCP
        </button>
        <a href="{% url 'lcp:lcp_detail' lcp.pk %}" class="btn btn-outline">
          Cancel
        </a>
      </div>
    </form>
  </div>
</section>
{% endblock %}
